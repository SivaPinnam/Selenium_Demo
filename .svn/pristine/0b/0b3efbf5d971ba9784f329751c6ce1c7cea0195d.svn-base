# Created By: Persistent Automation Team
# Created On: 11/23/2016
# Modified On: 12/08/2016

Feature: DME Order

  @SmokeTest
  Scenario: To add a new order of type DME and validates that a new order gets added.
    # Cancelling DME Order after adding
    Given user is logged in with valid credentials
    And navigates to Engagement tab
    And clicks on Engagement id
    When user clicks on Orders tab
    Then validates that Orders tab is displayed
    When user adds Order type "DME"
    Then validates that DME order page is displayed
    When user enters value for Entered By field
    And enters value for ORDERED field of DME order page
   # And enters value for ORDERING PROVIDER field of DME order page
    And enters value for VENDER/PROVIDER of DME order page
    And enters value for TELEPHONIC DIAGNOSIS of DME order page
    And enters value for VENDOR/PROVIDER PHONE of DME order page
    And clicks on Cancel button on DME order page
    And navigates to Engagement tab
    And clicks on Engagement id
    When user clicks on Orders tab
    Then validates that Orders tab is displayed
    Then validates that new DME Order is not created
    # Saving DME Order after adding
    When user adds Order type "DME"
    Then validates that DME order page is displayed
    When user enters value for Entered By field
    And enters value for ORDERED field of DME order page
   # And enters value for ORDERING PROVIDER field of DME order page
    And enters value for VENDER/PROVIDER of DME order page
    And enters value for TELEPHONIC DIAGNOSIS of DME order page
    And enters value for VENDOR/PROVIDER PHONE of DME order page
    And uploads file for DME order on DME order page
    And clicks on Save button on DME order page
    When user clicks on Orders tab
    Then validates that Orders tab is displayed
    Then validates that new DME Order is created successfully

  @SmokeTest
  Scenario: To edit DME order and validates that order gets updated.
    Given user is logged in with valid credentials
    And navigates to Engagement tab
    And clicks on Engagement id
    When user clicks on Orders tab
    Then validates that Orders tab is displayed on Orders DME Page
    When clicks on Edit link for Record type "DME" and Approve type "Yes"
    Then validates that DME order page is displayed
    And enters value for Vendor/Provider of DME order page
    And enters value for Vendor/Provider Phone of DME order page
    And validate that file has been uploaded on DME order page
    And uploads new file for DME order on DME order page
    And clicks on Save button on DME order page

  @SmokeTest
  Scenario: To view DME order and validates user provided values
    Given user is logged in with valid credentials
    And navigates to Engagement tab
    And clicks on Engagement id
    When user clicks on Orders tab
    When clicks on View link for Record type "DME" and Approve type "Yes"
    Then validates that DME order page is displayed
   # And validate that value for Ordering Provider of DME order page
    And validate that value for Vendor/Provider of DME order page
    And validate that value for Telephonic Diagnosis of DME order page
    And validate that value for Vendor/Provider Phone of DME order page
    And validate that new file has been uploaded on DME order page
    Then clicks on Cancel button on DME order page

  @SmokeTest
  Scenario: To approve DME order and validates that order gets approved.
    Given user is logged in with valid credentials
    And navigates to Engagement tab
    And clicks on Engagement id
    When user clicks on Orders tab
    Then validates that Orders tab is displayed
    When user Approve Order for Record type "DME" and Approve type "Yes"
    Then validate Approval status for Order Record type "DME"
