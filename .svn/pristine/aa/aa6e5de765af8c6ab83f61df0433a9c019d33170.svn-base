#Created By : Persistent Automation Team
#Created on: 12/6/2016
#Modified on:15/19/2016

@RegressionTest
Feature: Advance Care Plan Feature Validation
Background: 
    Given user is logged in with valid credentials
    And navigates to Engagement tab   
Scenario: Add Advance Care Plan
    When clicks on Engagement id 
    When user clicks on Advance Care Plan link
    And user clicks on Add ACP button
    Then verify Advance Care Plan form displayed
    When user clicks on expand all link on Advance Care Plan page
    And user clicks on Full Code radio button
    And user clicks yes for Antibiotics
    And user clicks yes for Blood Transfusion
    And user clicks yes for Tube Feeding
    And user clicks yes for Hospitalization
    And user clicks yes for IV Hydration
    And user clicks yes for Surgical Intervention
    And user selects value as Will
    And user selects value from Enrollee Primary Goal of Care
    And user selects value from Family Primary Goal of Care
    And user selects value from Mortality Risk Assessment Score
    And user enters text for Goals of Care
    And user clicks on no for Consumer Responsible for Self
    And user clicks on Not Applicable checkbox
    And user clicks on No for Hospice Appropriate
    And user enters date for Date Last Reviewed
    And user selects value for Reviewed Care Goals with Interdisciplinary Care Team
    And user enters text for Reviewed with field
    And user enters date for Update Date
    And user enters date for Discussed Date
    And user enters text for Discussed With
    And user enters text for Discussed Notes
    And user clicks on Cancel button on Advance Care Plan page
    Then verify Advance Care Plan cancelled    
    When user clicks on Add ACP button
    And user clicks on expand all link on Advance Care Plan page
    And user clicks on Full Code radio button
    And user clicks yes for Antibiotics
    And user clicks yes for Blood Transfusion
    And user clicks yes for Tube Feeding 
    And user clicks yes for Hospitalization 
    And user clicks yes for IV Hydration
    And user clicks yes for Surgical Intervention
    And user selects value as Will
    And user selects value from Enrollee Primary Goal of Care
    And user selects value from Family Primary Goal of Care
    And user selects value from Mortality Risk Assessment Score
    And user enters text for Goals of Care
    And user clicks on no for Consumer Responsible for Self
    And user clicks on Not Applicable checkbox
    And user clicks on No for Hospice Appropriate
    And user enters date for Date Last Reviewed
    And user selects value for Reviewed Care Goals with Interdisciplinary Care Team
    And user enters text for Reviewed with field
    And user enters date for Update Date
    And user enters date for Discussed Date
    And user enters text for Discussed With
    And user enters text for Discussed Notes
    And user clicks on Save button on Advance Care Plan page
    And user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    Then verify Advance Care Plan created
    
 Scenario: Update Advance Care Plan
    When clicks on Engagement id 
    When user clicks on Advance Care Plan link
    Then verify Update ACP button displayed
    And Verify ACP History button displayed
    When user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    And user edits value from Enrollee Primary Goal of Care
    And user edits value from Family Primary Goal of Care
    And user edits value from Mortality Risk Assessment Score 
    And user enters text for Discussed With
    And user clicks on Cancel button on Advance Care Plan page
    And user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    Then verify update cancelled for Advance Care Plan page
    And user edits value from Enrollee Primary Goal of Care
    And user edits value from Family Primary Goal of Care
    And user edits value from Mortality Risk Assessment Score 
    And user enters text for Discussed With
    And user clicks on Save button on Advance Care Plan page
    And user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    Then verify record updated in Advance Care Plan page
   
Scenario: Verify History of ACP on Engagement Page 
    When clicks on Engagement id 
    And user clicks on Advance Care Plan link
    And user clicks on ACP History button
    Then verify first page of history displayed on ACP Engagement Page   
    When user clicks on Show More Link of ACP history
    Then verify history displayed on show more of ACP Engagement Page   
    
Scenario: Verify Show More option of ACP on Engagement Page 
    When clicks on Engagement id   
    And user clicks on Advance Care Plan link
    And user clicks on ACP History button
    Then verify first page of history displayed on ACP Engagement Page  
    Then verify Show More link is displayed on ACP history page   
    When user clicks on Show More Link of ACP history 
    Then verify update button displayed on ACP history page
    Then verify history displayed on show more of ACP Engagement Page 
    When user clicks on view link of ACP history page 
    Then verify records displayed on view screen of ACP history page

Scenario: Update Advance Care Plan on Consumer Page
    When clicks on Consumer tab 
    And user clicks on Advance Care Plan link
    Then verify Update ACP button displayed
    And Verify ACP History button displayed
    When user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    And user selects value from Enrollee Primary Goal of Care on consumer page 
    And user selects value from Family Primary Goal of Care on consumer page
    And user selects value from Mortality Risk Assessment Score on consumer page
    And user enters text for Discussed With
    And user clicks on Cancel button on Advance Care Plan page
    And user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    Then verify update cancelled for Advance Care Plan for consumer
    When user selects value from Enrollee Primary Goal of Care on consumer page
    And user selects value from Family Primary Goal of Care on consumer page
    And user selects value from Mortality Risk Assessment Score on consumer page
    And user enters text for Discussed With
    And user clicks on Save button on Advance Care Plan page
    And user clicks on Update ACP button
    And user clicks on expand all link on Advance Care Plan page
    Then verify record updated in Advance Care Plan for consumer

Scenario: Verify History of ACP on Consumer Page
    When clicks on Consumer tab
    And user clicks on Advance Care Plan link
    And user clicks on ACP History button
    Then verify first page of history displayed on ACP consumer Page  
    When user clicks on Show More Link of ACP history
    Then verify history displayed on show more of ACP consumer Page 